<div class="container mx-auto px-4 py-8">
  <!-- Title -->
  <h2 class="text-2xl font-semibold text-[#5C684B] mb-6">
    {{ 'MY_POTS.TITLE' | translate }}
  </h2>

  <!-- States -->
  <p *ngIf="loading" class="text-center text-sm text-gray-600 animate-pulse">
    {{ 'GLOBAL.LOADING' | translate }}
  </p>

  <p *ngIf="error" class="text-center text-red-600">
    {{ error | translate }}
  </p>

  <p
    *ngIf="!loading && !error && pots.length === 0"
    class="text-center text-[#5C684B]"
  >
    {{ 'MY_POTS.EMPTY' | translate }}
  </p>

  <!-- Table -->
  <div
    *ngIf="!loading && !error && pots.length"
    class="relative overflow-x-auto shadow-md sm:rounded-lg w-fit mx-auto"
  >
    <table class="w-full text-sm text-left text-gray-700 bg-[#DCE6D3]">
      <thead class="text-xs uppercase text-[#5C684B]">
        <tr>
          <th class="px-6 py-3">{{ 'MY_POTS.TABLE.ID' | translate }}</th>
          <th class="px-6 py-3">{{ 'MY_POTS.TABLE.NAME' | translate }}</th>
          <th class="px-6 py-3">{{ 'MY_POTS.TABLE.PRICE' | translate }}</th>
          <th class="px-6 py-3">{{ 'GLOBAL.ACTIONS' | translate }}</th>
        </tr>
      </thead>

      <tbody>
        <tr
          *ngFor="let pot of pots; trackBy: trackByPotId"
          class="bg-white border-b border-green-100 hover:bg-[#DCE6D3]"
        >
          <td class="px-6 py-4">{{ pot.id }}</td>
          <td class="px-6 py-4 font-medium">{{ pot.name }}</td>
          <td class="px-6 py-4">{{ pot.price | currency }}</td>

          <td class="px-6 py-4">
            <div class="flex space-x-2">
              <button
                type="button"
                class="primary-btn px-3 py-1"
                (click)="downloadPotGLB(pot.id)"
              >
                {{ 'MY_POTS.BUTTON_DOWNLOAD_GLB' | translate }}
              </button>

              <button
                type="button"
                class="secondary-btn px-3 py-1"
                (click)="goToEvaluation(pot.id)"
              >
                {{ 'EVALUATION.BUTTON_MESSAGE' | translate }}
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <nav
      class="flex flex-col md:flex-row items-center justify-between pt-4"
      aria-label="Table navigation"
    >
      <span class="text-sm text-gray-600 mb-4 md:mb-0">
        {{ 'MY_POTS.SHOWING' | translate }}
        <span class="font-semibold text-gray-900">
          {{ (page - 1) * pageSize + 1 }}
        </span>
        -
        <span class="font-semibold text-gray-900">
          {{ (page - 1) * pageSize + pots.length }}
        </span>
        {{ 'MY_POTS.OF' | translate }}
        <span class="font-semibold text-gray-900">{{ totalItems }}</span>
      </span>

      <ul class="inline-flex -space-x-px text-sm h-8">
        <!-- Prev -->
        <li>
          <button
            class="flex items-center justify-center px-3 h-8 border rounded-s-lg
                   bg-[#DCE6D3] border-gray-300 text-gray-500 hover:bg-[#DCE6D3] hover:text-gray-700
                   disabled:opacity-40"
            (click)="goToPage(page - 1)"
            [disabled]="page === 1"
          >
            {{ 'GLOBAL.PREVIOUS' | translate }}
          </button>
        </li>

        <!-- Page numbers -->
        <ng-container *ngFor="let i of [].constructor(totalPages); let idx = index">
          <li>
            <button
              class="flex items-center justify-center px-3 h-8 border focus:outline-none"
              [ngClass]="{
                'bg-[#DCE6D3] border-[#DCE6D3] text-green-700': page === idx + 1,
                'bg-[#DCE6D3] border-[#DCE6D3] text-gray-500 hover:bg-[#DCE6D3] hover:text-gray-700':
                  page !== idx + 1
              }"
              (click)="goToPage(idx + 1)"
            >
              {{ idx + 1 }}
            </button>
          </li>
        </ng-container>

        <!-- Next -->
        <li>
          <button
            class="flex items-center justify-center px-3 h-8 border rounded-e-lg
                   bg-[#DCE6D3] border-gray-300 text-gray-500 hover:bg-[#DCE6D3] hover:text-gray-700
                   disabled:opacity-40"
            (click)="goToPage(page + 1)"
            [disabled]="page === totalPages"
          >
            {{ 'GLOBAL.NEXT' | translate }}
          </button>
        </li>
      </ul>
    </nav>
  </div>
</div>
